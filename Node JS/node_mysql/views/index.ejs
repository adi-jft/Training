<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Employee</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="icon" href="#">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
  </head>
  <body background="https://99designs-blog.imgix.net/blog/wp-content/uploads/2018/06/BUILD-GREAT-CORPORATE-DESIGN.jpg?auto=format&q=60&w=1860&h=1090&fit=crop&crop=faces">
      <p><h1 align="center">Employee Details</h1></p>
      <div class="container">
        <form action="/employees/post" method="post">
          <p>
            <label class="form-label">Name:</label>
            <input id="name" name="name" type="text" class="form-control" placeholder="Enter Name here..." value="<%= name %>" required/>
          </p> 
          <p>
            <label class="form-label">Job:</label>
            <input id="job" name="job" type="text" class="form-control" placeholder="Enter Job here..." value="<%= job %>" required/>
          </p>
          <p>
            <label>Salary:</label>
            <input id="salary" name="salary" type="number" class="form-control" placeholder="Enter Salary here..." value="<%= salary %>" required/>
          </p>
          <p>
              <% if(flag==true){ %>
                <button type="submit" class="btn btn-primary" formaction="/employees/save">Save</button>
              <% } else{ %>
                <button type="submit" class="btn btn-primary ">Add</button>
              <% } %>
              <button type="submit" class="btn btn-primary" formaction="/employees/search">Search</button>
          </p>
        </form>
      </div>
      <div class="container">
        <table id="emptable" class="table table-bordered table-light">
          <thead class="table-dark">
            <tr>
              <th>Name <button class="btn btn-light btn-sm" value="name" order="asc" >&#9650</button></th>
              <th>Job <button class="btn btn-light btn-sm" value="job" order="asc" >&#9650</button></th>
              <th>Salary <button class="btn btn-light btn-sm" value="salary" order="asc" >&#9650</button></th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="tbody">
            <% arr.forEach(e => { %>
              <tr>
                <td><%= e.name %></td>
                <td><%= e.job %></td>
                <td><%= e.salary %></td>
                <td style="display: flex;">
                  <form action="/employees/edit/<%= e.id %>" method="post">
                    <button type="submit" class="btn btn-warning">Edit</button>
                  </form>
                  <form action="/employees/delete/<%= e.id %>" method="post">
                    <button type="submit" class="btn btn-danger">Delete</button>
                  </form>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.js"></script>
  <!-- <script src="./app.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</html>